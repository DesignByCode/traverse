"use strict";var e=Object.defineProperty,t=(t,i,n)=>(((t,i,n)=>{i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[i]=n})(t,"symbol"!=typeof i?i+"":i,n),n);class i extends HTMLElement{constructor(){super(),t(this,"_currentSelectedItem"),t(this,"_indexPointer"),t(this,"menuItems"),t(this,"_current"),t(this,"_loopable"),this._indexPointer=0,this.menuItems=this.querySelectorAll('[role="menuitem"]'),this._current=this.getAttribute("current")||"true",this._loopable="false"!==this.getAttribute("loopable"),this._currentSelectedItem=-1}connectedCallback(){this.addEventListeners()}disconnectedCallback(){this.removeEventListeners()}addEventListeners(){this.menuItems.forEach((e=>e.addEventListener("keydown",this.navigateKeys.bind(this))))}removeEventListeners(){this.menuItems.forEach((e=>e.removeEventListener("keydown",this.navigateKeys.bind(this))))}navigateKeys(e){console.log(e.key),("ArrowUp"===e.key||"ArrowLeft"===e.key||e.shiftKey&&"Tab"===e.key)&&(e.preventDefault(),this.moveSelectionUp()),("ArrowDown"===e.key||"ArrowRight"===e.key||!e.shiftKey&&"Tab"===e.key)&&(e.preventDefault(),this.moveSelectionDown())}moveSelectionUp(){this.menuItems[this._indexPointer].removeAttribute("aria-current"),(this._loopable||this._indexPointer>0)&&(this._indexPointer=(this._indexPointer-1+this.menuItems.length)%this.menuItems.length),this.markAsCurrent()}moveSelectionDown(){this.menuItems[this._indexPointer].removeAttribute("aria-current"),(this._loopable||this._indexPointer<this.menuItems.length-1)&&(this._indexPointer=(this._indexPointer+1)%this.menuItems.length),this.markAsCurrent()}markAsCurrent(){this.menuItems[this._indexPointer].setAttribute("aria-current",this._current),this.menuItems[this._indexPointer].focus()}}customElements.define("traverse-list",i);
